"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/vrf";
exports.ids = ["pages/api/vrf"];
exports.modules = {

/***/ "@project-serum/anchor":
/*!****************************************!*\
  !*** external "@project-serum/anchor" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@project-serum/anchor");

/***/ }),

/***/ "@project-serum/borsh":
/*!***************************************!*\
  !*** external "@project-serum/borsh" ***!
  \***************************************/
/***/ ((module) => {

module.exports = require("@project-serum/borsh");

/***/ }),

/***/ "@solana/web3.js":
/*!**********************************!*\
  !*** external "@solana/web3.js" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("@solana/web3.js");

/***/ }),

/***/ "@switchboard-xyz/sbv2-utils":
/*!**********************************************!*\
  !*** external "@switchboard-xyz/sbv2-utils" ***!
  \**********************************************/
/***/ ((module) => {

module.exports = require("@switchboard-xyz/sbv2-utils");

/***/ }),

/***/ "@switchboard-xyz/switchboard-v2":
/*!**************************************************!*\
  !*** external "@switchboard-xyz/switchboard-v2" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("@switchboard-xyz/switchboard-v2");

/***/ }),

/***/ "bn.js":
/*!************************!*\
  !*** external "bn.js" ***!
  \************************/
/***/ ((module) => {

module.exports = require("bn.js");

/***/ }),

/***/ "bs58":
/*!***********************!*\
  !*** external "bs58" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("bs58");

/***/ }),

/***/ "@solana/spl-token":
/*!************************************!*\
  !*** external "@solana/spl-token" ***!
  \************************************/
/***/ ((module) => {

module.exports = import("@solana/spl-token");;

/***/ }),

/***/ "./src/models/VrfClient.ts":
/*!*********************************!*\
  !*** ./src/models/VrfClient.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"VrfClient\": () => (/* binding */ VrfClient)\n/* harmony export */ });\n/* harmony import */ var _project_serum_borsh__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @project-serum/borsh */ \"@project-serum/borsh\");\n/* harmony import */ var _project_serum_borsh__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_project_serum_borsh__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/web3.js */ \"@solana/web3.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_solana_web3_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var bn_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bn.js */ \"bn.js\");\n/* harmony import */ var bn_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bn_js__WEBPACK_IMPORTED_MODULE_2__);\n // eslint-disable-line @typescript-eslint/no-unused-vars\n\n // eslint-disable-line @typescript-eslint/no-unused-vars\nconst PROGRAM_ID = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey(\"86kL1NMhYsMedrYmUbYa2XPWQFNNzEoPjEZQzxjgARw7\"); //TODO: CHANGE THIS TO YOUR OWN\nclass VrfClient {\n    constructor(fields){\n        this.bump = fields.bump;\n        this.maxResult = fields.maxResult;\n        this.resultBuffer = fields.resultBuffer;\n        this.result = fields.result;\n        this.lastTimestamp = fields.lastTimestamp;\n        this.authority = fields.authority;\n        this.vrf = fields.vrf;\n    }\n    static async fetch(c, address) {\n        const info = await c.getAccountInfo(address);\n        if (info === null) {\n            return null;\n        }\n        if (!info.owner.equals(PROGRAM_ID)) {\n            throw new Error(\"account doesn't belong to this program\");\n        }\n        return this.decode(info.data);\n    }\n    static async fetchMultiple(c, addresses) {\n        const infos = await c.getMultipleAccountsInfo(addresses);\n        return infos.map((info)=>{\n            if (info === null) {\n                return null;\n            }\n            if (!info.owner.equals(PROGRAM_ID)) {\n                throw new Error(\"account doesn't belong to this program\");\n            }\n            return this.decode(info.data);\n        });\n    }\n    static decode(data) {\n        if (!data.slice(0, 8).equals(VrfClient.discriminator)) {\n            throw new Error(\"invalid account discriminator\");\n        }\n        const dec = VrfClient.layout.decode(data.slice(8));\n        return new VrfClient({\n            bump: dec.bump,\n            maxResult: dec.maxResult,\n            resultBuffer: dec.resultBuffer,\n            result: dec.result,\n            lastTimestamp: dec.lastTimestamp,\n            authority: dec.authority,\n            vrf: dec.vrf\n        });\n    }\n    toJSON() {\n        return {\n            bump: this.bump,\n            maxResult: this.maxResult.toString(),\n            resultBuffer: this.resultBuffer,\n            result: this.result.toString(),\n            lastTimestamp: this.lastTimestamp.toString(),\n            authority: this.authority.toString(),\n            vrf: this.vrf.toString()\n        };\n    }\n    static fromJSON(obj) {\n        return new VrfClient({\n            bump: obj.bump,\n            maxResult: new (bn_js__WEBPACK_IMPORTED_MODULE_2___default())(obj.maxResult),\n            resultBuffer: obj.resultBuffer,\n            result: new (bn_js__WEBPACK_IMPORTED_MODULE_2___default())(obj.result),\n            lastTimestamp: new (bn_js__WEBPACK_IMPORTED_MODULE_2___default())(obj.lastTimestamp),\n            authority: new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey(obj.authority),\n            vrf: new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey(obj.vrf)\n        });\n    }\n}\nVrfClient.discriminator = Buffer.from([\n    230,\n    174,\n    157,\n    153,\n    51,\n    18,\n    230,\n    163, \n]);\nVrfClient.layout = _project_serum_borsh__WEBPACK_IMPORTED_MODULE_0__.struct([\n    _project_serum_borsh__WEBPACK_IMPORTED_MODULE_0__.u8(\"bump\"),\n    _project_serum_borsh__WEBPACK_IMPORTED_MODULE_0__.u64(\"maxResult\"),\n    _project_serum_borsh__WEBPACK_IMPORTED_MODULE_0__.array(_project_serum_borsh__WEBPACK_IMPORTED_MODULE_0__.u8(), 32, \"resultBuffer\"),\n    _project_serum_borsh__WEBPACK_IMPORTED_MODULE_0__.u128(\"result\"),\n    _project_serum_borsh__WEBPACK_IMPORTED_MODULE_0__.i64(\"lastTimestamp\"),\n    _project_serum_borsh__WEBPACK_IMPORTED_MODULE_0__.publicKey(\"authority\"),\n    _project_serum_borsh__WEBPACK_IMPORTED_MODULE_0__.publicKey(\"vrf\"), \n]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQUcsQ0FBQ3ZCLEdBQUc7UUFDNUIsQ0FBQztJQUNILENBQUM7O0FBakhVUixTQUFTLENBZUp5QixhQUFhLEdBQUdPLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDLENBQUM7QUFDM0MsT0FBRztBQUFFLE9BQUc7QUFBRSxPQUFHO0FBQUUsT0FBRztBQUFFLE1BQUU7QUFBRSxNQUFFO0FBQUUsT0FBRztBQUFFLE9BQUc7QUFDdEMsQ0FBQztBQWpCVWpDLFNBQVMsQ0FtQkoyQixNQUFNLEdBQUcvQix3REFBWSxDQUFDLENBQUM7SUFDckNBLG9EQUFRLENBQUMsQ0FBTTtJQUNmQSxxREFBUyxDQUFDLENBQVc7SUFDckJBLHVEQUFXLENBQUNBLG9EQUFRLElBQUksRUFBRSxFQUFFLENBQWM7SUFDMUNBLHNEQUFVLENBQUMsQ0FBUTtJQUNuQkEscURBQVMsQ0FBQyxDQUFlO0lBQ3pCQSwyREFBZSxDQUFDLENBQVc7SUFDM0JBLDJEQUFlLENBQUMsQ0FBSztBQUN2QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc29sYW5hLWRhcHAtbmV4dC8uL3NyYy9tb2RlbHMvVnJmQ2xpZW50LnRzPzlhYTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgYm9yc2ggZnJvbSBcIkBwcm9qZWN0LXNlcnVtL2JvcnNoXCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5pbXBvcnQgeyBDb25uZWN0aW9uLCBQdWJsaWNLZXkgfSBmcm9tIFwiQHNvbGFuYS93ZWIzLmpzXCI7XG5pbXBvcnQgQk4gZnJvbSBcImJuLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5jb25zdCBQUk9HUkFNX0lEID0gbmV3IFB1YmxpY0tleShcbiAgXCI4NmtMMU5NaFlzTWVkclltVWJZYTJYUFdRRk5OekVvUGpFWlF6eGpnQVJ3N1wiXG4pOyAvL1RPRE86IENIQU5HRSBUSElTIFRPIFlPVVIgT1dOXG5cbmV4cG9ydCBpbnRlcmZhY2UgVnJmQ2xpZW50RmllbGRzIHtcbiAgYnVtcDogbnVtYmVyO1xuICBtYXhSZXN1bHQ6IEJOO1xuICByZXN1bHRCdWZmZXI6IEFycmF5PG51bWJlcj47XG4gIHJlc3VsdDogQk47XG4gIGxhc3RUaW1lc3RhbXA6IEJOO1xuICBhdXRob3JpdHk6IFB1YmxpY0tleTtcbiAgdnJmOiBQdWJsaWNLZXk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVnJmQ2xpZW50SlNPTiB7XG4gIGJ1bXA6IG51bWJlcjtcbiAgbWF4UmVzdWx0OiBzdHJpbmc7XG4gIHJlc3VsdEJ1ZmZlcjogQXJyYXk8bnVtYmVyPjtcbiAgcmVzdWx0OiBzdHJpbmc7XG4gIGxhc3RUaW1lc3RhbXA6IHN0cmluZztcbiAgYXV0aG9yaXR5OiBzdHJpbmc7XG4gIHZyZjogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgVnJmQ2xpZW50IHtcbiAgcmVhZG9ubHkgYnVtcDogbnVtYmVyO1xuXG4gIHJlYWRvbmx5IG1heFJlc3VsdDogQk47XG5cbiAgcmVhZG9ubHkgcmVzdWx0QnVmZmVyOiBBcnJheTxudW1iZXI+O1xuXG4gIHJlYWRvbmx5IHJlc3VsdDogQk47XG5cbiAgcmVhZG9ubHkgbGFzdFRpbWVzdGFtcDogQk47XG5cbiAgcmVhZG9ubHkgYXV0aG9yaXR5OiBQdWJsaWNLZXk7XG5cbiAgcmVhZG9ubHkgdnJmOiBQdWJsaWNLZXk7XG5cbiAgc3RhdGljIHJlYWRvbmx5IGRpc2NyaW1pbmF0b3IgPSBCdWZmZXIuZnJvbShbXG4gICAgMjMwLCAxNzQsIDE1NywgMTUzLCA1MSwgMTgsIDIzMCwgMTYzLFxuICBdKTtcblxuICBzdGF0aWMgcmVhZG9ubHkgbGF5b3V0ID0gYm9yc2guc3RydWN0KFtcbiAgICBib3JzaC51OChcImJ1bXBcIiksXG4gICAgYm9yc2gudTY0KFwibWF4UmVzdWx0XCIpLFxuICAgIGJvcnNoLmFycmF5KGJvcnNoLnU4KCksIDMyLCBcInJlc3VsdEJ1ZmZlclwiKSxcbiAgICBib3JzaC51MTI4KFwicmVzdWx0XCIpLFxuICAgIGJvcnNoLmk2NChcImxhc3RUaW1lc3RhbXBcIiksXG4gICAgYm9yc2gucHVibGljS2V5KFwiYXV0aG9yaXR5XCIpLFxuICAgIGJvcnNoLnB1YmxpY0tleShcInZyZlwiKSxcbiAgXSk7XG5cbiAgY29uc3RydWN0b3IoZmllbGRzOiBWcmZDbGllbnRGaWVsZHMpIHtcbiAgICB0aGlzLmJ1bXAgPSBmaWVsZHMuYnVtcDtcbiAgICB0aGlzLm1heFJlc3VsdCA9IGZpZWxkcy5tYXhSZXN1bHQ7XG4gICAgdGhpcy5yZXN1bHRCdWZmZXIgPSBmaWVsZHMucmVzdWx0QnVmZmVyO1xuICAgIHRoaXMucmVzdWx0ID0gZmllbGRzLnJlc3VsdDtcbiAgICB0aGlzLmxhc3RUaW1lc3RhbXAgPSBmaWVsZHMubGFzdFRpbWVzdGFtcDtcbiAgICB0aGlzLmF1dGhvcml0eSA9IGZpZWxkcy5hdXRob3JpdHk7XG4gICAgdGhpcy52cmYgPSBmaWVsZHMudnJmO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGZldGNoKFxuICAgIGM6IENvbm5lY3Rpb24sXG4gICAgYWRkcmVzczogUHVibGljS2V5XG4gICk6IFByb21pc2U8VnJmQ2xpZW50IHwgbnVsbD4ge1xuICAgIGNvbnN0IGluZm8gPSBhd2FpdCBjLmdldEFjY291bnRJbmZvKGFkZHJlc3MpO1xuXG4gICAgaWYgKGluZm8gPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoIWluZm8ub3duZXIuZXF1YWxzKFBST0dSQU1fSUQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhY2NvdW50IGRvZXNuJ3QgYmVsb25nIHRvIHRoaXMgcHJvZ3JhbVwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5kZWNvZGUoaW5mby5kYXRhKTtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBmZXRjaE11bHRpcGxlKFxuICAgIGM6IENvbm5lY3Rpb24sXG4gICAgYWRkcmVzc2VzOiBQdWJsaWNLZXlbXVxuICApOiBQcm9taXNlPEFycmF5PFZyZkNsaWVudCB8IG51bGw+PiB7XG4gICAgY29uc3QgaW5mb3MgPSBhd2FpdCBjLmdldE11bHRpcGxlQWNjb3VudHNJbmZvKGFkZHJlc3Nlcyk7XG5cbiAgICByZXR1cm4gaW5mb3MubWFwKChpbmZvKSA9PiB7XG4gICAgICBpZiAoaW5mbyA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICghaW5mby5vd25lci5lcXVhbHMoUFJPR1JBTV9JRCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYWNjb3VudCBkb2Vzbid0IGJlbG9uZyB0byB0aGlzIHByb2dyYW1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmRlY29kZShpbmZvLmRhdGEpO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIGRlY29kZShkYXRhOiBCdWZmZXIpOiBWcmZDbGllbnQge1xuICAgIGlmICghZGF0YS5zbGljZSgwLCA4KS5lcXVhbHMoVnJmQ2xpZW50LmRpc2NyaW1pbmF0b3IpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGFjY291bnQgZGlzY3JpbWluYXRvclwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBkZWMgPSBWcmZDbGllbnQubGF5b3V0LmRlY29kZShkYXRhLnNsaWNlKDgpKTtcblxuICAgIHJldHVybiBuZXcgVnJmQ2xpZW50KHtcbiAgICAgIGJ1bXA6IGRlYy5idW1wLFxuICAgICAgbWF4UmVzdWx0OiBkZWMubWF4UmVzdWx0LFxuICAgICAgcmVzdWx0QnVmZmVyOiBkZWMucmVzdWx0QnVmZmVyLFxuICAgICAgcmVzdWx0OiBkZWMucmVzdWx0LFxuICAgICAgbGFzdFRpbWVzdGFtcDogZGVjLmxhc3RUaW1lc3RhbXAsXG4gICAgICBhdXRob3JpdHk6IGRlYy5hdXRob3JpdHksXG4gICAgICB2cmY6IGRlYy52cmYsXG4gICAgfSk7XG4gIH1cblxuICB0b0pTT04oKTogVnJmQ2xpZW50SlNPTiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJ1bXA6IHRoaXMuYnVtcCxcbiAgICAgIG1heFJlc3VsdDogdGhpcy5tYXhSZXN1bHQudG9TdHJpbmcoKSxcbiAgICAgIHJlc3VsdEJ1ZmZlcjogdGhpcy5yZXN1bHRCdWZmZXIsXG4gICAgICByZXN1bHQ6IHRoaXMucmVzdWx0LnRvU3RyaW5nKCksXG4gICAgICBsYXN0VGltZXN0YW1wOiB0aGlzLmxhc3RUaW1lc3RhbXAudG9TdHJpbmcoKSxcbiAgICAgIGF1dGhvcml0eTogdGhpcy5hdXRob3JpdHkudG9TdHJpbmcoKSxcbiAgICAgIHZyZjogdGhpcy52cmYudG9TdHJpbmcoKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGZyb21KU09OKG9iajogVnJmQ2xpZW50SlNPTik6IFZyZkNsaWVudCB7XG4gICAgcmV0dXJuIG5ldyBWcmZDbGllbnQoe1xuICAgICAgYnVtcDogb2JqLmJ1bXAsXG4gICAgICBtYXhSZXN1bHQ6IG5ldyBCTihvYmoubWF4UmVzdWx0KSxcbiAgICAgIHJlc3VsdEJ1ZmZlcjogb2JqLnJlc3VsdEJ1ZmZlcixcbiAgICAgIHJlc3VsdDogbmV3IEJOKG9iai5yZXN1bHQpLFxuICAgICAgbGFzdFRpbWVzdGFtcDogbmV3IEJOKG9iai5sYXN0VGltZXN0YW1wKSxcbiAgICAgIGF1dGhvcml0eTogbmV3IFB1YmxpY0tleShvYmouYXV0aG9yaXR5KSxcbiAgICAgIHZyZjogbmV3IFB1YmxpY0tleShvYmoudnJmKSxcbiAgICB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImJvcnNoIiwiUHVibGljS2V5IiwiQk4iLCJQUk9HUkFNX0lEIiwiVnJmQ2xpZW50IiwiZmllbGRzIiwiYnVtcCIsIm1heFJlc3VsdCIsInJlc3VsdEJ1ZmZlciIsInJlc3VsdCIsImxhc3RUaW1lc3RhbXAiLCJhdXRob3JpdHkiLCJ2cmYiLCJmZXRjaCIsImMiLCJhZGRyZXNzIiwiaW5mbyIsImdldEFjY291bnRJbmZvIiwib3duZXIiLCJlcXVhbHMiLCJFcnJvciIsImRlY29kZSIsImRhdGEiLCJmZXRjaE11bHRpcGxlIiwiYWRkcmVzc2VzIiwiaW5mb3MiLCJnZXRNdWx0aXBsZUFjY291bnRzSW5mbyIsIm1hcCIsInNsaWNlIiwiZGlzY3JpbWluYXRvciIsImRlYyIsImxheW91dCIsInRvSlNPTiIsInRvU3RyaW5nIiwiZnJvbUpTT04iLCJvYmoiLCJCdWZmZXIiLCJmcm9tIiwic3RydWN0IiwidTgiLCJ1NjQiLCJhcnJheSIsInUxMjgiLCJpNjQiLCJwdWJsaWNLZXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/models/VrfClient.ts\n");

/***/ }),

/***/ "./src/pages/api/vrf.ts":
/*!******************************!*\
  !*** ./src/pages/api/vrf.ts ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__) => {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/web3.js */ \"@solana/web3.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_solana_web3_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _switchboard_xyz_switchboard_v2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @switchboard-xyz/switchboard-v2 */ \"@switchboard-xyz/switchboard-v2\");\n/* harmony import */ var _switchboard_xyz_switchboard_v2__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_switchboard_xyz_switchboard_v2__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @project-serum/anchor */ \"@project-serum/anchor\");\n/* harmony import */ var _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _solana_spl_token__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @solana/spl-token */ \"@solana/spl-token\");\n/* harmony import */ var _switchboard_xyz_sbv2_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @switchboard-xyz/sbv2-utils */ \"@switchboard-xyz/sbv2-utils\");\n/* harmony import */ var _switchboard_xyz_sbv2_utils__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_switchboard_xyz_sbv2_utils__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bs58 */ \"bs58\");\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(bs58__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _target_idl_anchor_vrf_parser_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../../../target/idl/anchor_vrf_parser.json */ \"../../../../../target/idl/anchor_vrf_parser.json\");\n/* harmony import */ var _models_VrfClient__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../models/VrfClient */ \"./src/models/VrfClient.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_solana_spl_token__WEBPACK_IMPORTED_MODULE_3__]);\n_solana_spl_token__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? await __webpack_async_dependencies__ : __webpack_async_dependencies__)[0];\n// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\n// eslint-disable-next-line import/no-extraneous-dependencies\n\n\n\nfunction handler(req, res) {\n    return new Promise(async (resolve, reject)=>{\n        //todo: this file seems like it has glitched at some point, it would be a good idea for you to move it to a server, and then just put this in a loop every 5-10 sec, depending on how often you want the VRF to update\n        try {\n            const authorityKeypair = _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__.web3.Keypair.fromSecretKey(bs58__WEBPACK_IMPORTED_MODULE_5___default().decode(\"3jSAEfJ8LKzBHLcV4MBSiHkE9LaY1QDCWtbfi8CTKRW7qQtxXvK1yuHtwazyGUU23MgWyNf511ijpWbMRGouyEaE\" // SWITCH THIS OUT WITH YOUR FEE ACCOUNT - OR YOU CAN MAKE A NEW TX SO USER PAYS VRF FEE: https://docs.switchboard.xyz/developers/randomness\n            ));\n            const connection = new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__.web3.Connection((0,_solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.clusterApiUrl)(\"devnet\"));\n            const provider = new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__.AnchorProvider(connection, new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__.Wallet(authorityKeypair), {\n                preflightCommitment: \"processed\"\n            });\n            const program = new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__.Program(// eslint-disable-next-line @typescript-eslint/no-non-null-assertion,@typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            _target_idl_anchor_vrf_parser_json__WEBPACK_IMPORTED_MODULE_6__, new _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.PublicKey(\"86kL1NMhYsMedrYmUbYa2XPWQFNNzEoPjEZQzxjgARw7\"), provider); //todo: remember to replace with your own publickey for program\n            let switchboard;\n            try {\n                switchboard = await _switchboard_xyz_sbv2_utils__WEBPACK_IMPORTED_MODULE_4__.SwitchboardTestContext.loadDevnetQueue(provider, \"F8ce7MsckeZAbAGmxjJNetxYXQa9mKr9nnrC3qKubyYy\", 5000000 // .005 wSOL\n                );\n                console.log(\"devnet detected\");\n                return;\n            } catch (error) {\n                console.log(`Error: SBV2 Devnet - ${error.message}`);\n            // console.error(error);\n            }\n            const queue = switchboard.queue;\n            const { unpermissionedVrfEnabled , authority , dataBuffer  } = await queue.loadData();\n            // Get required switchboard accounts\n            const [programStateAccount, programStateBump] = _switchboard_xyz_switchboard_v2__WEBPACK_IMPORTED_MODULE_1__.ProgramStateAccount.fromSeed(switchboard.program);\n            const vrfAccount = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.PublicKey(\"3SFft9ciPxaCjTK5gm1QmhcBkgkt7cnLCFtmpRtyJZKQ\");\n            const permissionAccount = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.PublicKey(\"D6nHUScSkA2ADgNvc1ok7EDazHSSejXJ6mL325ZmASTr\");\n            const vrfClientKey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.PublicKey(\"6w4v8dQLLa5XNrmN3gHDC25Bptc4aVkAPajhcZCUzHUa\");\n            const [permissionKey, permissionBump] = _switchboard_xyz_switchboard_v2__WEBPACK_IMPORTED_MODULE_1__.PermissionAccount.fromSeed(switchboard.program, authority, queue.publicKey, vrfAccount);\n            const mint = await programStateAccount.getTokenMint();\n            const payerTokenAccount = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.PublicKey(\"7CockyQhxZ1tza8jgJF59XFqdx7NTRPrTZhrgefxQcoT\");\n            const escrow = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.PublicKey(\"zndzewboJNQfSD2hcf5MvnKjH2Xb3hZJNqBJHDq2Dpn\");\n            // Request randomness\n            await program.methods.requestResult({\n                switchboardStateBump: programStateBump,\n                permissionBump\n            }).accounts({\n                state: vrfClientKey,\n                authority: authorityKeypair.publicKey,\n                switchboardProgram: switchboard.program.programId,\n                vrf: vrfAccount,\n                oracleQueue: queue.publicKey,\n                queueAuthority: authority,\n                dataBuffer,\n                permission: permissionAccount,\n                escrow,\n                payerWallet: payerTokenAccount,\n                payerAuthority: authorityKeypair.publicKey,\n                recentBlockhashes: _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,\n                programState: programStateAccount.publicKey,\n                tokenProgram: _solana_spl_token__WEBPACK_IMPORTED_MODULE_3__.TOKEN_PROGRAM_ID\n            }).rpc();\n            const result = await awaitCallback(program.provider.connection, vrfClientKey, 55000);\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            res.status(200).json({\n                VrfTxn: result.toString()\n            });\n            resolve(res);\n        } catch (e) {\n            res.status(200).json({\n                VrfTxn: \"\",\n                Error: e.toString()\n            });\n            reject(res);\n        }\n    });\n};\nasync function awaitCallback(connection, vrfClientKey, timeoutInterval, errorMsg = \"Timed out waiting for VRF Client callback\") {\n    let ws = undefined;\n    const result = await (0,_switchboard_xyz_sbv2_utils__WEBPACK_IMPORTED_MODULE_4__.promiseWithTimeout)(timeoutInterval, new Promise((resolve, reject)=>{\n        ws = connection.onAccountChange(vrfClientKey, async (accountInfo, context)=>{\n            const clientState = _models_VrfClient__WEBPACK_IMPORTED_MODULE_7__.VrfClient.decode(accountInfo.data);\n            if (clientState.result.gt(new _project_serum_anchor__WEBPACK_IMPORTED_MODULE_2__.BN(0))) {\n                resolve(clientState.result);\n            }\n        });\n    }).finally(async ()=>{\n        if (ws) {\n            await connection.removeAccountChangeListener(ws);\n        }\n        ws = undefined;\n    }), new Error(errorMsg)).finally(async ()=>{\n        if (ws) {\n            await connection.removeAccountChangeListener(ws);\n        }\n        ws = undefined;\n    });\n    return result;\n}\n\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQ1YsRUFBRTtRQUNqRCxDQUFDO1FBQ0RBLEVBQUUsR0FBR0MsU0FBUztJQUNoQixDQUFDO0lBRUQsTUFBTSxDQUFDWCxNQUFNO0FBQ2YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NvbGFuYS1kYXBwLW5leHQvLi9zcmMvcGFnZXMvYXBpL3ZyZi50cz80MDFlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE5leHQuanMgQVBJIHJvdXRlIHN1cHBvcnQ6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwaS1yb3V0ZXMvaW50cm9kdWN0aW9uXG5pbXBvcnQge1xuICBjbHVzdGVyQXBpVXJsLFxuICBLZXlwYWlyLFxuICBQdWJsaWNLZXksXG4gIFNZU1ZBUl9SRUNFTlRfQkxPQ0tIQVNIRVNfUFVCS0VZLFxufSBmcm9tIFwiQHNvbGFuYS93ZWIzLmpzXCI7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLWV4dHJhbmVvdXMtZGVwZW5kZW5jaWVzXG5pbXBvcnQge1xuICBQZXJtaXNzaW9uQWNjb3VudCxcbiAgUHJvZ3JhbVN0YXRlQWNjb3VudCxcbn0gZnJvbSBcIkBzd2l0Y2hib2FyZC14eXovc3dpdGNoYm9hcmQtdjJcIjtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXNcbmltcG9ydCAqIGFzIGFuY2hvciBmcm9tIFwiQHByb2plY3Qtc2VydW0vYW5jaG9yXCI7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLWV4dHJhbmVvdXMtZGVwZW5kZW5jaWVzXG5pbXBvcnQgKiBhcyBzcGwgZnJvbSBcIkBzb2xhbmEvc3BsLXRva2VuXCI7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLWV4dHJhbmVvdXMtZGVwZW5kZW5jaWVzXG5pbXBvcnQge1xuICBwcm9taXNlV2l0aFRpbWVvdXQsXG4gIFN3aXRjaGJvYXJkVGVzdENvbnRleHQsXG59IGZyb20gXCJAc3dpdGNoYm9hcmQteHl6L3NidjItdXRpbHNcIjtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXNcbmltcG9ydCBiczU4IGZyb20gXCJiczU4XCI7XG5pbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xuaW1wb3J0IElETF9KU09OIGZyb20gXCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi90YXJnZXQvaWRsL2FuY2hvcl92cmZfcGFyc2VyLmpzb25cIjtcbmltcG9ydCB7IFZyZkNsaWVudCB9IGZyb20gXCIuLi8uLi9tb2RlbHMvVnJmQ2xpZW50XCI7XG5cbnR5cGUgRGF0YSA9IHtcbiAgVnJmVHhuOiBzdHJpbmc7XG4gIEVycm9yOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVyKFxuICByZXE6IE5leHRBcGlSZXF1ZXN0LFxuICByZXM6IE5leHRBcGlSZXNwb25zZTxEYXRhPlxuKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgLy90b2RvOiB0aGlzIGZpbGUgc2VlbXMgbGlrZSBpdCBoYXMgZ2xpdGNoZWQgYXQgc29tZSBwb2ludCwgaXQgd291bGQgYmUgYSBnb29kIGlkZWEgZm9yIHlvdSB0byBtb3ZlIGl0IHRvIGEgc2VydmVyLCBhbmQgdGhlbiBqdXN0IHB1dCB0aGlzIGluIGEgbG9vcCBldmVyeSA1LTEwIHNlYywgZGVwZW5kaW5nIG9uIGhvdyBvZnRlbiB5b3Ugd2FudCB0aGUgVlJGIHRvIHVwZGF0ZVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBhdXRob3JpdHlLZXlwYWlyID0gYW5jaG9yLndlYjMuS2V5cGFpci5mcm9tU2VjcmV0S2V5KFxuICAgICAgICBiczU4LmRlY29kZShcbiAgICAgICAgICBcIjNqU0FFZko4TEt6QkhMY1Y0TUJTaUhrRTlMYVkxUURDV3RiZmk4Q1RLUlc3cVF0eFh2SzF5dUh0d2F6eUdVVTIzTWdXeU5mNTExaWpwV2JNUkdvdXlFYUVcIiAvLyBTV0lUQ0ggVEhJUyBPVVQgV0lUSCBZT1VSIEZFRSBBQ0NPVU5UIC0gT1IgWU9VIENBTiBNQUtFIEEgTkVXIFRYIFNPIFVTRVIgUEFZUyBWUkYgRkVFOiBodHRwczovL2RvY3Muc3dpdGNoYm9hcmQueHl6L2RldmVsb3BlcnMvcmFuZG9tbmVzc1xuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gbmV3IGFuY2hvci53ZWIzLkNvbm5lY3Rpb24oY2x1c3RlckFwaVVybChcImRldm5ldFwiKSk7XG4gICAgICBjb25zdCBwcm92aWRlciA9IG5ldyBhbmNob3IuQW5jaG9yUHJvdmlkZXIoXG4gICAgICAgIGNvbm5lY3Rpb24sXG4gICAgICAgIG5ldyBhbmNob3IuV2FsbGV0KGF1dGhvcml0eUtleXBhaXIpLFxuICAgICAgICB7XG4gICAgICAgICAgcHJlZmxpZ2h0Q29tbWl0bWVudDogXCJwcm9jZXNzZWRcIixcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIGNvbnN0IHByb2dyYW0gPSBuZXcgYW5jaG9yLlByb2dyYW0oXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uLEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIElETF9KU09OISxcbiAgICAgICAgbmV3IFB1YmxpY0tleShcIjg2a0wxTk1oWXNNZWRyWW1VYllhMlhQV1FGTk56RW9QakVaUXp4amdBUnc3XCIpLFxuICAgICAgICBwcm92aWRlclxuICAgICAgKTsgLy90b2RvOiByZW1lbWJlciB0byByZXBsYWNlIHdpdGggeW91ciBvd24gcHVibGlja2V5IGZvciBwcm9ncmFtXG4gICAgICBsZXQgc3dpdGNoYm9hcmQ6IFN3aXRjaGJvYXJkVGVzdENvbnRleHQ7XG4gICAgICB0cnkge1xuICAgICAgICBzd2l0Y2hib2FyZCA9IGF3YWl0IFN3aXRjaGJvYXJkVGVzdENvbnRleHQubG9hZERldm5ldFF1ZXVlKFxuICAgICAgICAgIHByb3ZpZGVyLFxuICAgICAgICAgIFwiRjhjZTdNc2NrZVpBYkFHbXhqSk5ldHhZWFFhOW1LcjlubnJDM3FLdWJ5WXlcIixcbiAgICAgICAgICA1XzAwMF8wMDAgLy8gLjAwNSB3U09MXG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZGV2bmV0IGRldGVjdGVkXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBFcnJvcjogU0JWMiBEZXZuZXQgLSAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgICAgY29uc3QgcXVldWUgPSBzd2l0Y2hib2FyZC5xdWV1ZTtcbiAgICAgIGNvbnN0IHsgdW5wZXJtaXNzaW9uZWRWcmZFbmFibGVkLCBhdXRob3JpdHksIGRhdGFCdWZmZXIgfSA9XG4gICAgICAgIGF3YWl0IHF1ZXVlLmxvYWREYXRhKCk7XG4gICAgICAvLyBHZXQgcmVxdWlyZWQgc3dpdGNoYm9hcmQgYWNjb3VudHNcbiAgICAgIGNvbnN0IFtwcm9ncmFtU3RhdGVBY2NvdW50LCBwcm9ncmFtU3RhdGVCdW1wXSA9XG4gICAgICAgIFByb2dyYW1TdGF0ZUFjY291bnQuZnJvbVNlZWQoc3dpdGNoYm9hcmQucHJvZ3JhbSk7XG4gICAgICBjb25zdCB2cmZBY2NvdW50ID0gbmV3IFB1YmxpY0tleShcbiAgICAgICAgXCIzU0ZmdDljaVB4YUNqVEs1Z20xUW1oY0JrZ2t0N2NuTENGdG1wUnR5SlpLUVwiXG4gICAgICApO1xuICAgICAgY29uc3QgcGVybWlzc2lvbkFjY291bnQgPSBuZXcgUHVibGljS2V5KFxuICAgICAgICBcIkQ2bkhVU2NTa0EyQURnTnZjMW9rN0VEYXpIU1NlalhKNm1MMzI1Wm1BU1RyXCJcbiAgICAgICk7XG4gICAgICBjb25zdCB2cmZDbGllbnRLZXkgPSBuZXcgUHVibGljS2V5KFxuICAgICAgICBcIjZ3NHY4ZFFMTGE1WE5ybU4zZ0hEQzI1QnB0YzRhVmtBUGFqaGNaQ1V6SFVhXCJcbiAgICAgICk7XG4gICAgICBjb25zdCBbcGVybWlzc2lvbktleSwgcGVybWlzc2lvbkJ1bXBdID0gUGVybWlzc2lvbkFjY291bnQuZnJvbVNlZWQoXG4gICAgICAgIHN3aXRjaGJvYXJkLnByb2dyYW0sXG4gICAgICAgIGF1dGhvcml0eSxcbiAgICAgICAgcXVldWUucHVibGljS2V5LFxuICAgICAgICB2cmZBY2NvdW50XG4gICAgICApO1xuICAgICAgY29uc3QgbWludCA9IGF3YWl0IHByb2dyYW1TdGF0ZUFjY291bnQuZ2V0VG9rZW5NaW50KCk7XG5cbiAgICAgIGNvbnN0IHBheWVyVG9rZW5BY2NvdW50ID0gbmV3IFB1YmxpY0tleShcbiAgICAgICAgXCI3Q29ja3lRaHhaMXR6YThqZ0pGNTlYRnFkeDdOVFJQclRaaHJnZWZ4UWNvVFwiXG4gICAgICApO1xuXG4gICAgICBjb25zdCBlc2Nyb3cgPSBuZXcgUHVibGljS2V5KFxuICAgICAgICBcInpuZHpld2JvSk5RZlNEMmhjZjVNdm5LakgyWGIzaFpKTnFCSkhEcTJEcG5cIlxuICAgICAgKTtcblxuICAgICAgLy8gUmVxdWVzdCByYW5kb21uZXNzXG4gICAgICBhd2FpdCBwcm9ncmFtLm1ldGhvZHMucmVxdWVzdFJlc3VsdCEoe1xuICAgICAgICBzd2l0Y2hib2FyZFN0YXRlQnVtcDogcHJvZ3JhbVN0YXRlQnVtcCxcbiAgICAgICAgcGVybWlzc2lvbkJ1bXAsXG4gICAgICB9KVxuICAgICAgICAuYWNjb3VudHMoe1xuICAgICAgICAgIHN0YXRlOiB2cmZDbGllbnRLZXksXG4gICAgICAgICAgYXV0aG9yaXR5OiBhdXRob3JpdHlLZXlwYWlyLnB1YmxpY0tleSxcbiAgICAgICAgICBzd2l0Y2hib2FyZFByb2dyYW06IHN3aXRjaGJvYXJkLnByb2dyYW0ucHJvZ3JhbUlkLFxuICAgICAgICAgIHZyZjogdnJmQWNjb3VudCxcbiAgICAgICAgICBvcmFjbGVRdWV1ZTogcXVldWUucHVibGljS2V5LFxuICAgICAgICAgIHF1ZXVlQXV0aG9yaXR5OiBhdXRob3JpdHksXG4gICAgICAgICAgZGF0YUJ1ZmZlcixcbiAgICAgICAgICBwZXJtaXNzaW9uOiBwZXJtaXNzaW9uQWNjb3VudCxcbiAgICAgICAgICBlc2Nyb3csXG4gICAgICAgICAgcGF5ZXJXYWxsZXQ6IHBheWVyVG9rZW5BY2NvdW50LFxuICAgICAgICAgIHBheWVyQXV0aG9yaXR5OiBhdXRob3JpdHlLZXlwYWlyLnB1YmxpY0tleSxcbiAgICAgICAgICByZWNlbnRCbG9ja2hhc2hlczogU1lTVkFSX1JFQ0VOVF9CTE9DS0hBU0hFU19QVUJLRVksXG4gICAgICAgICAgcHJvZ3JhbVN0YXRlOiBwcm9ncmFtU3RhdGVBY2NvdW50LnB1YmxpY0tleSxcbiAgICAgICAgICB0b2tlblByb2dyYW06IHNwbC5UT0tFTl9QUk9HUkFNX0lELFxuICAgICAgICB9KVxuICAgICAgICAucnBjKCk7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhd2FpdENhbGxiYWNrKFxuICAgICAgICBwcm9ncmFtLnByb3ZpZGVyLmNvbm5lY3Rpb24sXG4gICAgICAgIHZyZkNsaWVudEtleSxcbiAgICAgICAgNTVfMDAwXG4gICAgICApO1xuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IFZyZlR4bjogcmVzdWx0LnRvU3RyaW5nKCkgfSk7XG4gICAgICByZXNvbHZlKHJlcyk7XG4gICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IFZyZlR4bjogXCJcIiwgRXJyb3I6IGUudG9TdHJpbmcoKSB9KTtcbiAgICAgIHJlamVjdChyZXMpO1xuICAgIH1cbiAgfSk7XG59XG5hc3luYyBmdW5jdGlvbiBhd2FpdENhbGxiYWNrKFxuICBjb25uZWN0aW9uOiBhbmNob3Iud2ViMy5Db25uZWN0aW9uLFxuICB2cmZDbGllbnRLZXk6IGFuY2hvci53ZWIzLlB1YmxpY0tleSxcbiAgdGltZW91dEludGVydmFsOiBudW1iZXIsXG4gIGVycm9yTXNnID0gXCJUaW1lZCBvdXQgd2FpdGluZyBmb3IgVlJGIENsaWVudCBjYWxsYmFja1wiXG4pIHtcbiAgbGV0IHdzOiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gIGNvbnN0IHJlc3VsdDogYW5jaG9yLkJOID0gYXdhaXQgcHJvbWlzZVdpdGhUaW1lb3V0KFxuICAgIHRpbWVvdXRJbnRlcnZhbCxcbiAgICBuZXcgUHJvbWlzZShcbiAgICAgIChcbiAgICAgICAgcmVzb2x2ZTogKHJlc3VsdDogYW5jaG9yLkJOKSA9PiB2b2lkLFxuICAgICAgICByZWplY3Q6IChyZWFzb246IHN0cmluZykgPT4gdm9pZFxuICAgICAgKSA9PiB7XG4gICAgICAgIHdzID0gY29ubmVjdGlvbi5vbkFjY291bnRDaGFuZ2UoXG4gICAgICAgICAgdnJmQ2xpZW50S2V5LFxuICAgICAgICAgIGFzeW5jIChcbiAgICAgICAgICAgIGFjY291bnRJbmZvOiBhbmNob3Iud2ViMy5BY2NvdW50SW5mbzxCdWZmZXI+LFxuICAgICAgICAgICAgY29udGV4dDogYW5jaG9yLndlYjMuQ29udGV4dFxuICAgICAgICAgICkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2xpZW50U3RhdGUgPSBWcmZDbGllbnQuZGVjb2RlKGFjY291bnRJbmZvLmRhdGEpO1xuICAgICAgICAgICAgaWYgKGNsaWVudFN0YXRlLnJlc3VsdC5ndChuZXcgYW5jaG9yLkJOKDApKSkge1xuICAgICAgICAgICAgICByZXNvbHZlKGNsaWVudFN0YXRlLnJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgICkuZmluYWxseShhc3luYyAoKSA9PiB7XG4gICAgICBpZiAod3MpIHtcbiAgICAgICAgYXdhaXQgY29ubmVjdGlvbi5yZW1vdmVBY2NvdW50Q2hhbmdlTGlzdGVuZXIod3MpO1xuICAgICAgfVxuICAgICAgd3MgPSB1bmRlZmluZWQ7XG4gICAgfSksXG4gICAgbmV3IEVycm9yKGVycm9yTXNnKVxuICApLmZpbmFsbHkoYXN5bmMgKCkgPT4ge1xuICAgIGlmICh3cykge1xuICAgICAgYXdhaXQgY29ubmVjdGlvbi5yZW1vdmVBY2NvdW50Q2hhbmdlTGlzdGVuZXIod3MpO1xuICAgIH1cbiAgICB3cyA9IHVuZGVmaW5lZDtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiJdLCJuYW1lcyI6WyJjbHVzdGVyQXBpVXJsIiwiUHVibGljS2V5IiwiU1lTVkFSX1JFQ0VOVF9CTE9DS0hBU0hFU19QVUJLRVkiLCJQZXJtaXNzaW9uQWNjb3VudCIsIlByb2dyYW1TdGF0ZUFjY291bnQiLCJhbmNob3IiLCJzcGwiLCJwcm9taXNlV2l0aFRpbWVvdXQiLCJTd2l0Y2hib2FyZFRlc3RDb250ZXh0IiwiYnM1OCIsIklETF9KU09OIiwiVnJmQ2xpZW50IiwiaGFuZGxlciIsInJlcSIsInJlcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiYXV0aG9yaXR5S2V5cGFpciIsIndlYjMiLCJLZXlwYWlyIiwiZnJvbVNlY3JldEtleSIsImRlY29kZSIsImNvbm5lY3Rpb24iLCJDb25uZWN0aW9uIiwicHJvdmlkZXIiLCJBbmNob3JQcm92aWRlciIsIldhbGxldCIsInByZWZsaWdodENvbW1pdG1lbnQiLCJwcm9ncmFtIiwiUHJvZ3JhbSIsInN3aXRjaGJvYXJkIiwibG9hZERldm5ldFF1ZXVlIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwibWVzc2FnZSIsInF1ZXVlIiwidW5wZXJtaXNzaW9uZWRWcmZFbmFibGVkIiwiYXV0aG9yaXR5IiwiZGF0YUJ1ZmZlciIsImxvYWREYXRhIiwicHJvZ3JhbVN0YXRlQWNjb3VudCIsInByb2dyYW1TdGF0ZUJ1bXAiLCJmcm9tU2VlZCIsInZyZkFjY291bnQiLCJwZXJtaXNzaW9uQWNjb3VudCIsInZyZkNsaWVudEtleSIsInBlcm1pc3Npb25LZXkiLCJwZXJtaXNzaW9uQnVtcCIsInB1YmxpY0tleSIsIm1pbnQiLCJnZXRUb2tlbk1pbnQiLCJwYXllclRva2VuQWNjb3VudCIsImVzY3JvdyIsIm1ldGhvZHMiLCJyZXF1ZXN0UmVzdWx0Iiwic3dpdGNoYm9hcmRTdGF0ZUJ1bXAiLCJhY2NvdW50cyIsInN0YXRlIiwic3dpdGNoYm9hcmRQcm9ncmFtIiwicHJvZ3JhbUlkIiwidnJmIiwib3JhY2xlUXVldWUiLCJxdWV1ZUF1dGhvcml0eSIsInBlcm1pc3Npb24iLCJwYXllcldhbGxldCIsInBheWVyQXV0aG9yaXR5IiwicmVjZW50QmxvY2toYXNoZXMiLCJwcm9ncmFtU3RhdGUiLCJ0b2tlblByb2dyYW0iLCJUT0tFTl9QUk9HUkFNX0lEIiwicnBjIiwicmVzdWx0IiwiYXdhaXRDYWxsYmFjayIsInN0YXR1cyIsImpzb24iLCJWcmZUeG4iLCJ0b1N0cmluZyIsImUiLCJFcnJvciIsInRpbWVvdXRJbnRlcnZhbCIsImVycm9yTXNnIiwid3MiLCJ1bmRlZmluZWQiLCJvbkFjY291bnRDaGFuZ2UiLCJhY2NvdW50SW5mbyIsImNvbnRleHQiLCJjbGllbnRTdGF0ZSIsImRhdGEiLCJndCIsIkJOIiwiZmluYWxseSIsInJlbW92ZUFjY291bnRDaGFuZ2VMaXN0ZW5lciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/api/vrf.ts\n");

/***/ }),

/***/ "../../../../../target/idl/anchor_vrf_parser.json":
/*!********************************************************!*\
  !*** ../../../../../target/idl/anchor_vrf_parser.json ***!
  \********************************************************/
/***/ ((module) => {

module.exports = JSON.parse('{"version":"0.1.0","name":"anchor_vrf_parser","instructions":[{"name":"initState","accounts":[{"name":"state","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"vrf","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"params","type":{"defined":"InitStateParams"}}]},{"name":"updateResult","accounts":[{"name":"state","isMut":true,"isSigner":false},{"name":"vrf","isMut":false,"isSigner":false}],"args":[]},{"name":"requestResult","accounts":[{"name":"state","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"vrf","isMut":true,"isSigner":false},{"name":"oracleQueue","isMut":true,"isSigner":false,"docs":["CHECK"]},{"name":"queueAuthority","isMut":false,"isSigner":false},{"name":"dataBuffer","isMut":true,"isSigner":false,"docs":["CHECK"]},{"name":"permission","isMut":true,"isSigner":false,"docs":["CHECK"]},{"name":"escrow","isMut":true,"isSigner":false},{"name":"programState","isMut":true,"isSigner":false},{"name":"switchboardProgram","isMut":false,"isSigner":false},{"name":"payerWallet","isMut":true,"isSigner":false},{"name":"payerAuthority","isMut":false,"isSigner":true},{"name":"recentBlockhashes","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"params","type":{"defined":"RequestResultParams"}}]},{"name":"initGamblingState","accounts":[{"name":"user","isMut":true,"isSigner":true},{"name":"userStats","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"startGamble","accounts":[{"name":"user","isMut":true,"isSigner":true},{"name":"userStats","isMut":true,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"feeAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"heads","accounts":[{"name":"user","isMut":true,"isSigner":false},{"name":"userStats","isMut":true,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"vrf","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"tails","accounts":[{"name":"user","isMut":true,"isSigner":false},{"name":"userStats","isMut":true,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"vrf","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"initHouse","accounts":[{"name":"user","isMut":true,"isSigner":true},{"name":"vault","isMut":true,"isSigner":false},{"name":"feeAccount","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"payoutAmount","type":"u8"}]}],"accounts":[{"name":"UserStats","type":{"kind":"struct","fields":[{"name":"lamportsPlayed","type":"u64"},{"name":"bump","type":"u8"}]}},{"name":"HouseState","type":{"kind":"struct","fields":[{"name":"feeAccount","type":"publicKey"},{"name":"feeAmount","type":"u8"},{"name":"bump","type":"u8"}]}},{"name":"VrfClient","type":{"kind":"struct","fields":[{"name":"bump","type":"u8"},{"name":"maxResult","type":"u64"},{"name":"resultBuffer","type":{"array":["u8",32]}},{"name":"result","type":"u128"},{"name":"lastTimestamp","type":"i64"},{"name":"authority","type":"publicKey"},{"name":"vrf","type":"publicKey"}]}}],"types":[{"name":"InitStateParams","type":{"kind":"struct","fields":[{"name":"maxResult","type":"u64"}]}},{"name":"RequestResultParams","type":{"kind":"struct","fields":[{"name":"permissionBump","type":"u8"},{"name":"switchboardStateBump","type":"u8"}]}},{"name":"VrfErrorCode","type":{"kind":"enum","variants":[{"name":"InvalidSwitchboardAccount"},{"name":"MaxResultExceedsMaximum"},{"name":"EmptyCurrentRoundResult"},{"name":"InvalidAuthorityError"},{"name":"InvalidVrfAccount"}]}}],"events":[{"name":"RequestingRandomness","fields":[{"name":"vrfClient","type":"publicKey","index":false},{"name":"maxResult","type":"u64","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"VrfClientInvoked","fields":[{"name":"vrfClient","type":"publicKey","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"VrfClientResultUpdated","fields":[{"name":"vrfClient","type":"publicKey","index":false},{"name":"result","type":"u128","index":false},{"name":"resultBuffer","type":{"array":["u8",32]},"index":false},{"name":"timestamp","type":"i64","index":false}]}],"errors":[{"code":6000,"name":"AmountMustBeGreaterThanZero","msg":"Amount must be greater than zero."},{"code":6001,"name":"NotEnoughInHouse","msg":"The house wallet can\'t or won\'t payout this amount.."},{"code":6002,"name":"VrfEmpty","msg":"VRF buffer empty!"}],"metadata":{"address":"86kL1NMhYsMedrYmUbYa2XPWQFNNzEoPjEZQzxjgARw7"}}');

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./src/pages/api/vrf.ts"));
module.exports = __webpack_exports__;

})();