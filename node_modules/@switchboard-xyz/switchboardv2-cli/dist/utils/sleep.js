"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.callWithRetry = exports.sleep = void 0;
/* eslint-disable no-promise-executor-return */
const sleep = (ms) => new Promise((s) => setTimeout(s, ms));
exports.sleep = sleep;
const callWithRetry = async (function_, depth = 0) => {
    try {
        return function_();
    }
    catch (error) {
        if (depth > 7) {
            throw error;
        }
        await (0, exports.sleep)(2 ** depth * 10);
        return (0, exports.callWithRetry)(function_, depth + 1);
    }
};
exports.callWithRetry = callWithRetry;
